!function(){"use strict";angular.module("applyAccount",["ngAnimate","ngCookies","ngMessages","ngResource","ui.router","ngSanitize","restangular","angularTips","applyAccount.controllers","applyAccount.services","applyAccount.filters"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/applyAccount"),a.state("login",{url:"/login",templateUrl:"views/login/login.html",controller:"loginController",controllerAs:"login"}).state("applyAccount",{url:"/applyAccount",templateUrl:"views/main/main.html",controller:"MainCtrl"}).state("applyAccount.basicUser",{url:"/basicUser",templateUrl:"views/apply/basic.html",controller:"basicUserController"}).state("applyAccount.admin",{url:"/admin",templateUrl:"views/apply/admin.html",controller:"adminController"}).state("applyAccount.groupManage",{url:"/group",templateUrl:"views/groupMng/group_manage.html",controller:"groupMngController"}).state("applyAccount.ruleManage",{url:"/roleManage",templateUrl:"views/roleMng/role_manage.html",controller:"roleMngController"}).state("applyAccount.userManage",{url:"/userManage",templateUrl:"views/userManage/userManage.html",controller:"userManageController"})}])}(),function(){"use strict";angular.module("applyAccount").run(["CORE_VALUE","Restangular","$location","$rootScope",function(a,b,c,d){a.USERINFO=angular.fromJson(window.localStorage.user),a.isAdmin=angular.fromJson(window.localStorage.isAdmin),a.powerList=angular.fromJson(window.localStorage.powerList)}])}(),function(){"use strict";function a(){return function(a){var b=a.substring(0,8);return b+="..."}}function b(){return function(a){switch(a+""){case"1":return"审核中";case"2":return"已通过";case"3":return"未通过"}}}angular.module("applyAccount.filters",[]).filter("codeFilter",a).filter("applyStatusFilter",b)}(),function(){"use strict";angular.module("applyAccount").directive("page",function(){return{restrict:"E",templateUrl:"scripts/directive/page.html",replace:!0,scope:{limit:"@",currentPage:"@",params:"=",total:"=",data:"=",query:"&"},link:function(a){function b(a){return"string"==typeof a?parseInt(a):a}function c(){return Math.ceil(a.total/a.params.pageSize)}function d(a){for(var b in a)"undefined"===a[b]||""===a[b]?g[b]="":g[b]=a[b]}function e(a,b){for(var c in b)a[c]=b[c]}function f(){a.totalPages=c(),0===a.totalPages&&(a.currentPage=0,a.currentPageNow=0),0===h&&0!==a.totalPages&&(a.currentPage=1,a.currentPageNow=1)}var g={},h=0;a.currentPageNow=b(a.currentPage),a.pageSizeNow=b(a.limit),f(),a.changeLimit=function(b){h=0,a.currentPageNow=1,a.currentPage=1,e(a.params,g),a.params.currentPage=a.currentPageNow,a.pageSizeNow=b,a.params.pageSize=a.pageSizeNow,setTimeout(function(){a.query()},200),f()},a.setCurrentPage=function(c){h=0,"number"==typeof c&&(a.currentPageNow=b(c),a.currentPage=b(c),a.params.currentPage=a.currentPageNow,a.query(),f(),setTimeout(function(){a.params.currentPage=1},1e3))},a.go=function(b){h++;var c;return"0"===b||""===b?(b=1,void(a.currentPageNow=a.currentPage)):(1!==b.length&&"0"===b.substring(0,1)&&(c=b.substring(1),b=c>=a.totalPages?a.totalPages:c),b>a.totalPages&&(b=a.totalPages),a.currentPage=b,a.currentPageNow=b,a.params.currentPage=b,a.query(),void f())},a.play=function(b){switch(h++,b){case"first":a.currentPage>1&&(a.currentPage=1,a.currentPageNow=1,a.params.currentPage=1,a.query(),f());break;case"above":1!==a.currentPage&&0!==a.currentPage&&(a.currentPage--,a.currentPageNow--,a.params.currentPage--,a.query(),f());break;case"next":a.currentPage!==a.totalPages&&(a.currentPage++,a.currentPageNow++,a.params.currentPage++,a.query(),f());break;case"end":0!==a.currentPage&&a.currentPage!==a.totalPages&&(a.currentPage=a.totalPages,a.currentPageNow=a.totalPages,a.params.currentPage=a.totalPages,a.query(),f())}},a.mykey=function(b){var c=window.event?b.keyCode:b.which;13===c&&a.go(a.currentPageNow)},a.keyDownFn=function(a){var b=window.event||a;8===b.keyCode||b.keyCode>47&&b.keyCode<58||b.keyCode>95&&b.keyCode<106||(b.preventDefault(),16===b.keycode&&b.preventDefault())},a.$watch("total",function(){f()}),a.$watch("data",function(){d(a.params),1===a.params.currentPage&&(a.currentPage=1,a.currentPageNow=1),("undefined"==typeof a.data||null===a.data||0===a.data.length)&&(a.currentPageNow=0,a.currentPage=0)}),a.$watch("currentPageNow",function(b,c){isNaN(b)&&(a.currentPageNow=c)})}}})}(),function(){"use strict";function a(a){return{restrict:"A",link:function(b,c,d){b.$last===!0&&a(function(){b.$emit("ngRepeatFinished")})}}}angular.module("applyAccount").directive("repeatFinish",a),a.$inject=["$timeout"]}(),function(){"use strict";function a(){var a=this;a.tipsObj={tipContent:"",tipType:""},a.setTip=function(b,c){a.tipsObj.tipContent=c||"",a.tipsObj.tipType=b||""}}function b(a,b){function c(c,d,e,f){var g,h;c.tipsObj=b.tipsObj,g=c.$watch("tipsObj",function(){""!==c.tipsObj.tipType&&(h&&a.cancel(h),h=a(function(){c.tipsObj.tipType="",c.tipsObj.tipContent=""},2e3))},!0),c.$on("$destroy",function(){g()})}function d(){return"<div class=\"btn text-overflow\" ng-class=\"{'btn-info': tipsObj.tipType=='info', 'btn-success': tipsObj.tipType=='success', 'btn-warning': tipsObj.tipType=='warning'}\" style=\"width:20%;top:0;left:40%;position:fixed;z-index:999;\" ng-show=\"tipsObj.tipType !== undefined && tipType !== ''\">{{tipsObj.tipContent}}</div>"}var e={restrict:"E",replace:!0,scope:{},template:d,link:c};return e}angular.module("angularTips",[]).service("tipService",a).directive("comTips",b),b.$inject=["$timeout","tipService"]}(),function(){"use strict";function a(){function a(a,b,c,d){a.sendName="",a.isBlur=!0,a.liObj=[];var e,f;e=a.$watch("giveArray",function(){angular.forEach(a.giveArray,function(b,c){a.liObj[c]={key:c,isSelected:!1},angular.forEach(b,function(b,d){-1!==d.toLowerCase().indexOf("id")?a.liObj[c].id=b+"":-1!==d.toLowerCase().indexOf("name")&&(a.liObj[c].name=b)})})}),f=a.$watch("sendId",function(){var b=[];-1===(a.sendId+"").indexOf(",")?b.push(a.sendId+""):b=a.sendId.split(","),a.sendName="",angular.forEach(a.liObj,function(c,d){a.liObj[d].isSelected=!1,angular.forEach(b,function(b){c.id===b&&(a.liObj[d].isSelected=!0,a.sendName+=c.name+",")})}),a.sendName=a.sendName.slice(0,-1)}),a.selectWord=function(b){a.liObj[b].isSelected=!a.liObj[b].isSelected;var c="",d="";angular.forEach(a.liObj,function(a){a.isSelected&&(c+=a.name+",",d+=a.id+",")}),a.sendName=c.slice(0,-1),a.sendId=d.slice(0,-1)},a.$on("$destroy",function(){e(),f()})}var b={restrict:"E",replace:!0,templateUrl:"scripts/directive/multiple.html",scope:{sendId:"=",sendName:"=",giveArray:"="},link:a};return b}angular.module("applyAccount").directive("comMultiple",a)}(),function(){"use strict";function a(a,b){return{}}angular.module("applyAccount.services",[]).value("CORE_VALUE",{USERINFO:{}}).factory("COREDATA",a),a.$inject=["$location","Restangular"]}(),function(){"use strict";angular.module("applyAccount.controllers",["applyAccount.groupMng"]).controller("MainCtrl",["$scope","CORE_VALUE","$rootScope","$state","loginService",function(a,b,c,d,e){e.checkCookies(),a.isActive={span1:!0,span2:!1,span3:!1,span4:!1,span5:!1};var f=["span1","span2","span3","span4","span5"];a.setNavClass=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(b[c]=c===a)},a.$on("$stateChangeSuccess",function(b,c){var d=c.name.split(".")[1],e=["admin","basicUser","groupManage","userManage","ruleManage"];for(var g in e)d===e[g]&&a.setNavClass(f[g],a.isActive)}),c.USERINFO=b.USERINFO,c.isAdmin=b.isAdmin,c.powerList=b.powerList[0],c.isAdmin===!1?d.go("applyAccount.basicUser"):d.go("applyAccount.admin"),a.params={userId:b.USERINFO.userId,oldPassword:"",newPassword:"",confirmPassword:""},a.modal={modalShow:!1,modalMessage:""},a.click={click:!1},a.logout=function(){e.logout(function(a){}),localStorage.clear(),d.go("login")},a.modifyPassword=function(){var b=angular.copy(a.params);delete b.confirmPassword,e.modifyPassword(b,function(b){a.params.oldPassword="",a.params.newPassword="",a.params.confirmPassword="","10000"===b.state?($("#myPassword").modal("hide"),a.tipType="success",a.tipContent=b.message):($("#myPassword").modal("hide"),a.tipType="warning",a.tipContent=b.message)})},a.cancel=function(){a.params.oldPassword="",a.params.newPassword="",a.params.confirmPassword=""}}])}(),function(){"use strict";function a(a,b,c,d){a.addParams={groupId:"",groupName:"",groupPhone:""},a.init=function(){c.queryInfo(function(b){"10000"===b.state?a.queryList=b.data:(a.totalCount=0,a.tipType="warning",a.tipContent="没有查询到数据")})},a.init(),a.addGroup=function(){delete a.addParams.groupId,c.add(a.addParams,function(b){"10000"===b.state?($("#addGroup").modal("hide"),a.cancel(),a.init(),a.tipType="success",a.tipContent="新增成功"):($("#addGroup").modal("hide"),a.tipType="warning",a.tipContent="新增失败")})},a.modify=function(b){a.modifyData=angular.copy(b)},a.updateGroup=function(){c.add(a.modifyData,function(b){"10000"===b.state?($("#updateGroup").modal("hide"),a.cancel(),a.init(),d.setTip("success","修改成功")):($("#updateGroup").modal("hide"),a.tipType="warning",a.tipContent="修改失败")})},a.cancel=function(){a.addParams.groupName="",a.addParams.groupPhone=""}}angular.module("applyAccount.groupMng",[]).controller("groupMngController",a),a.$inject=["$scope","$state","groupMngService","tipService"]}(),function(){"use strict";function a(a,b,c){a.init=function(){a.query()},a.model={edit:!1,powers:[],role:{}},a.query=function(){c.queryRoles(function(b){"10000"===b.state&&(a.roleList=b.data)})},a.powerQuery=function(b){a.model.edit=!1,a.model.powers=b.rolePower,$("#myModal").modal("show")},a.editPower=function(b,c){a.model.edit=!0,a.model.role=b,a.model.powers=[{value:1,power:"审核工单"}],a.model.rolePowers=[];for(var d in b.rolePower)a.model.rolePowers.push(b.rolePower[d].value);console.log(b),console.log(a.model),$("#myModal").modal("show")},a.saveEdit=function(){var b={roleId:"",roleName:"",menuId:[]};$("input[name='modelEdit']").each(function(){$(this).prop("checked")&&b.menuId.push($(this).val())}),b.roleId=a.model.role.roleId,b.roleName=a.model.role.roleName,c.editRole(b,function(b){"10000"===b.state?(a.tipType="success",a.tipContent=b.message,a.query()):(a.tipType="warning",a.tipContent=b.message),$("#myModal").modal("hide")})}}angular.module("applyAccount").controller("roleMngController",a),a.$inject=["$scope","$state","roleMngService"]}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){g.queryGroup(function(a){i.groupList=a.data})}var i=this;i.isClick={click:!1},i.modalMessage="提示",i.loginType=0,i.user={username:"",password:"",imageValue:""},i.phoneUser={phone:"",phoneCode:""},a.registParameter={phoneNumber:"",username:"",name:"",password:"",email:"",fourA:"",workDuty:"",workCom:"",groupId:""},i.getImgCode=function(){var a=document.getElementById("getCode");a.src=e+"?sid="+Math.random()},i.getImgCode(),i.getPhoneCode=function(){11!==i.phoneUser.phone.length?($("#messageId").modal("show"),i.modalMessage="请输入正确的手机号码"):b.getPhoneCode({phone:i.phoneUser.phone},function(a){i.modalMessage=a.message,$("#messageId").modal("show")})},i.groupList=[],h(),i.registUser=function(){b.registUser(a.registParameter,function(b){"10000"==b.state&&($("#registModal").modal("hide"),a.registParameter="")})},a.cancel=function(){$("#registModal").modal("hide"),a.registParameter=""},i.loginBtn=function(){i.isClick.click=!0,c(function(){i.isClick.click=!1},3e3);var a={};0===i.loginType?""===i.user.username?($("#messageId").modal("show"),i.modalMessage="请输入用户名"):""===i.user.password?($("#messageId").modal("show"),i.modalMessage="请输入密码"):""===i.user.imageValue?($("#messageId").modal("show"),i.modalMessage="请输入验证码"):(a=0===i.loginType?angular.copy(i.user):angular.copy(i.phoneUser),a.loginType=i.loginType,b.login(a,function(a){i.isClick.click=!1,"10000"!==a.state?(i.modalMessage=a.message,$("#messageId").modal("show")):(window.localStorage.user=angular.toJson(a.data),window.localStorage.isAdmin=angular.toJson(a.isAdmin),window.localStorage.powerList=angular.toJson(a.powerList),f.USERINFO=a.data,f.isAdmin=a.isAdmin,f.powerList=a.powerList,d.go("applyAccount.basicUser"))})):11!==i.phoneUser.phone.length?($("#messageId").modal("show"),i.modalMessage="请输入正确的手机号码"):""===i.phoneUser.phoneCode?($("#messageId").modal("show"),i.modalMessage="请输入验证码"):(a=0===i.loginType?angular.copy(i.user):angular.copy(i.phoneUser),a.loginType=i.loginType,b.login(a,function(a){i.isClick.click=!1,"10000"!==a.state?(i.modalMessage=a.message,$("#messageId").modal("show")):(window.localStorage.user=angular.toJson(a.data),window.localStorage.isAdmin=angular.toJson(a.isAdmin),window.localStorage.powerList=angular.toJson(a.powerList),f.USERINFO=a.data,f.isAdmin=a.isAdmin,f.powerList=a.powerList,d.go("applyAccount.basicUser"))}))}}angular.module("applyAccount.controllers").controller("loginController",a),a.$inject=["$scope","loginService","$timeout","$state","configUrl","CORE_VALUE","adminService"]}(),function(){"use strict";function a(a,b){return{login:function(b,c){a.all("/applyAccount/user/login").post(b).then(c)},getPhoneCode:function(b,c){a.one("/applyAccount/user/getPhoneCode").get(b).then(c)},registUser:function(b,c){a.all("/applyAccount/user/apply").post(b).then(c)},modifyPassword:function(b,c){a.all("/applyAccount/user/resetPassword").post(b).then(c)},logout:function(b,c){a.one("/applyAccount/user/logout").get().then(c)},checkCookies:function(){void 0===window.localStorage.user?b.go("login"):"login"===b.current.name&&b.go("applyAccount.basicUser")}}}angular.module("applyAccount.services").constant("configUrl","/applyAccount/user/getCodeImage").factory("loginService",a),a.$inject=["Restangular","$state"]}(),function(){"use strict";function a(a,b,c){a.init=function(){a.query()},a.queryParams={userId:b.USERINFO.userId,username:"",applyStatus:"",phoneNumber:b.USERINFO.phoneNumber,currentPage:"1",pageSize:"10"},a.page={total:"",pageSize:"10",currentPage:""},a.confirmModal={remark:""},a.query=function(b){var d=angular.copy(a.queryParams);d.phoneNumber=a.queryParams.phoneNumber,c.query(d,function(b){"10000"===b.state?(a.queryList=b.data,a.page.total=b.totalCount):(a.tipType="warning",a.tipContent=b.message)})},a.look=function(b){a.confirmModal.remark="",$("#modal").modal("show");var d={id:b.id};c.look(d,function(b){"10000"===b.state?a.model=b.data:(a.tipType="warning",a.tipContent=b.message)})},a.passApply=function(b,d){return b?($("#confirm").modal("show"),a.confirmModal.remark="",c.passApplyModel.id=b.id,void(2==d?c.passApplyModel.applyStatus="2":c.passApplyModel.applyStatus="3")):(c.passApplyModel.remark=a.confirmModal.remark,void c.passApply(c.passApplyModel,function(b){"10000"===b.state?(a.query(),a.tipType="success",a.tipContent=b.message):(a.tipType="warning",a.tipContent=b.message),$("#confirm").modal("hide")}))}}angular.module("applyAccount").controller("adminController",a),a.$inject=["$scope","CORE_VALUE","adminService"]}(),function(){"use strict";function a(a){return{passApply:function(b,c){a.all("/applyAccount/apply/deal").post(b).then(c)},query:function(b,c){a.all("/applyAccount/apply/query").post(b).then(c)},check:function(b,c){a.all("/applyAccount/apply/add").post(b).then(c)},look:function(b,c){a.all("/applyAccount/apply/look").post(b).then(c)},add:function(b,c){a.all("/applyAccount/apply/add").post(b).then(c)},exportApply:function(b,c){a.one("/applyAccount/apply/exportApply").get(b).then(c)},queryGroup:function(b){a.one("/applyAccount/apply/getGroup").get().then(b)},passApplyModel:{}}}angular.module("applyAccount.services").factory("adminService",a),a.$inject=["Restangular"]}(),function(){"use strict";function a(a,b,c){function d(){c.queryGroup(function(b){a.groupList=b.data})}$("#applyStart").datetimepicker({language:"zh-CN",format:"yyyy-MM-dd",autoclose:!0,todayBtn:!0,minView:2,pickerPosition:"bottom-left"}),$("#applyEnd").datetimepicker({language:"zh-CN",format:"yyyy-MM-dd",autoclose:!0,todayBtn:!0,minView:2,pickerPosition:"bottom-left"}),a.queryParams={userId:b.USERINFO.userId,phoneNumber:b.USERINFO.phoneNumber,applyStatus:"",currentPage:1,pageSize:10},a.applyParams={accountName:"",groupId:"",mainPath:"",accountProperties:"",startTimeStr:"",endTimeStr:"",platform:"",subSystem:"",powerDetail:"",realName:"",phoneNumber:"",workCom:"",workDuty:"",fourA:"",email:"",applyReason:"",userId:b.USERINFO.userId},a.exportParams={exportPath:"",id:""},a.groupList=[],d(),a.showApply=function(){a.applyParams.groupId=b.USERINFO.groupId,a.applyParams.realName=b.USERINFO.realName,a.applyParams.phoneNumber=b.USERINFO.phoneNumber,a.applyParams.workCom=b.USERINFO.workCom,a.applyParams.workDuty=b.USERINFO.workDuty,a.applyParams.fourA=b.USERINFO.fourA,a.applyParams.email=b.USERINFO.email,$("#appleModal").modal("show")},a.query=function(){c.query(a.queryParams,function(b){a.queryList=b.data,a.totalCount=b.totalCount})},a.look=function(d){c.look({id:d,userId:b.USERINFO.userId},function(b){"10000"===b.state&&($("#appleLook").modal("show"),a.model=b.data)})},a.add=function(){var d=!0;if(angular.forEach(a.applyParams,function(b,c){""===a.applyParams[c]&&(d=!1)}),d){var e=angular.copy(a.applyParams);e.startTimeStr=new Date(e.startTimeStr).valueOf(),e.endTimeStr=new Date(e.endTimeStr).valueOf(),c.add(e,function(c){"10000"===c.state?(angular.forEach(a.applyParams,function(b,c){a.applyParams[c]=""}),a.applyParams.userId=b.USERINFO.userId,$("#appleModal").modal("hide"),a.tipType="success",a.tipContent=c.message,a.query()):($("#appleModal").modal("hide"),a.tipType="warning",a.tipContent=c.message)})}else alert("请填写完整")},a.query(),a.exportApply=function(){c.exportApply(function(a){"10000"===a.state?alert("成功！"):alert("失败！")})}}angular.module("applyAccount").controller("basicUserController",a),a.$inject=["$scope","CORE_VALUE","adminService"]}(),function(){"use strict";function a(a){return{queryInfo:function(b){a.one("/applyAccount/group/search").get().then(b)},add:function(b,c){a.all("/applyAccount/group/add").post(b).then(c)}}}angular.module("applyAccount.services").factory("groupMngService",a),a.$inject=["Restangular"]}(),function(){"use strict";function a(a){return{editRole:function(b,c){a.all("/applyAccount/role/update").post(b).then(c)},queryRoles:function(b){a.one("/applyAccount/role/search").get().then(b)},modifyRole:function(b,c){a.all("/applyAccount/user/role").post(b).then(c)}}}angular.module("applyAccount.services").factory("roleMngService",a),a.$inject=["Restangular"]}(),function(){"use strict";function a(a,b,c,d){a.queryParams={currentPage:"1",pageSize:"10"},a.modifyData={userId:"",phoneNumber:"",username:"",realName:"",password:"",email:"",fourA:"",workDuty:"",groupId:""},a.roleData={userId:"",roleIds:[]},a.deleteData={userId:""},a.initPage=function(){a.query(),a.getGroup(),a.queryRole()},a.query=function(){b.userQuery(a.queryParams,function(b){"10000"===b.state?(a.totalCount=b.totalCount,a.queryList=b.data,a.tipType="success",a.tipContent="查询成功"):(a.totalCount=0,a.tipType="warning",a.tipContent="查询失败")})},a.groupList=[],a.getGroup=function(){d.queryGroup(function(b){a.groupList=b.data})},a.modifyUser=function(b){$("#userModal").modal("show"),a.modifyData.userId=b.userId,a.modifyData.phoneNumber=b.phoneNumber,a.modifyData.username=b.username,a.modifyData.realName=b.realName,a.modifyData.password=b.password,a.modifyData.email=b.email,a.modifyData.fourA=b.fourA,a.modifyData.workDuty=b.workDuty,a.modifyData.workCom=b.workCom,a.modifyData.groupId=b.groupId},a.update=function(){b.userUpdate(a.modifyData,function(b){"10000"===b.state?($("#userModal").modal("hide"),a.query(),a.tipType="success",a.tipContent="修改成功"):($("#userModal").modal("show"),a.tipType="warning",a.tipContent="修改失败")})},a.modifyRole=function(b){$("#roleModal").modal("show"),a.roleData.userId=b.userId,a.roleData.realName=b.realName,a.roleData.roleIds=b.roleIds.toString(),a.roleData.roleName=b.roleName},a.reviewUser=[],a.queryRole=function(){c.queryRoles(function(b){"10000"===b.state?a.reviewUser=b.data:(a.tipType="warning",a.tipContent="没有查询到角色数据")})},a.updateRole=function(){a.updates={userId:a.roleData.userId,roleIds:a.roleData.roleIds},a.updates.roleIds=a.updates.roleIds.split(","),b.updateRole(a.updates,function(b){"10000"===b.state?($("#roleModal").modal("hide"),a.query(),a.tipType="success",a.tipContent="修改成功"):(a.tipType="warning",a.tipContent="修改失败")})},a.deleteModal=function(b){$("#deleteUserModal").modal("show"),a.deleteData.userId=b.userId},a.deleteUser=function(){b.deleteUser(a.deleteData,function(b){"10000"===b.state?(a.query(),a.tipType="success",a.tipContent="删除成功"):(a.tipType="warning",a.tipContent="删除失败")})}}angular.module("applyAccount").controller("userManageController",a),a.$inject=["$scope","userManageService","roleMngService","adminService"]}(),function(){"use strict";function a(a){return{userQuery:function(b,c){a.all("/applyAccount/user/query").post(b).then(c)},userUpdate:function(b,c){a.all("/applyAccount/user/update").post(b).then(c)},deleteUser:function(b,c){a.all("/applyAccount/user/del").post(b).then(c)},updateRole:function(b,c){a.all("/applyAccount/user/role").post(b).then(c)}}}angular.module("applyAccount.services").factory("userManageService",a),a.$inject=["Restangular"]}(),angular.module("applyAccount").run(["$templateCache",function(a){"use strict";a.put("scripts/directive/multiple.html",'<div class="btn-group bootstrap-select show-tick" ng-class="{\'open\': isBlur==false, \'\': isBlur==true}" ng-mouseleave="isBlur=true"> <button type="button" class="btn dropdown-toggle btn-default" ng-click="isBlur=!isBlur" role="button" title="{{sendName}}"> <span class="filter-option pull-left">{{sendName}}</span>&nbsp; <span class="bs-caret"> <span class="caret"></span> </span> </button> <div class="dropdown-menu open" style="max-height: 281px; overflow: hidden; min-height: 0;margin-top: 0"> <ul class="dropdown-menu inner" style="max-height: 269px; overflow-y: auto; min-height: 0"> <li ng-class="{\'selected\': obj.isSelected==true, \'\': obj.isSelected==false}" ng-repeat="obj in liObj track by $index"> <a ng-click="selectWord(obj.key)"> <span class="text">{{obj.name}}</span> <span class="glyphicon glyphicon-ok check-mark"></span> </a> </li> </ul> </div> </div>'),a.put("scripts/directive/page.html",'<nav class="nav-page"> <div class="page"> <ul class="pro-page"> <li><span class="record-total">共{{total}}条记录，&nbsp;</span> </li> <li role="presentation" class="sel-btn"> <a id="menu1" data-toggle="dropdown" role="button" class="dropdown-toggle num-total" aria-expanded="true" aria-haspopup="true">每页{{pageSizeNow}}条<a class="drow-up" id="menu1" data-toggle="dropdown" role="button" class="dropdown-toggle" aria-expanded="true" aria-haspopup="true"></a></a> <ul class="sel dropdown-menu" role="menu" aria-labelledby="menu1"> <li role="presentation" ng-click="changeLimit(5)">5</li> <li role="presentation" ng-click="changeLimit(10)">10</li> <li role="presentation" ng-click="changeLimit(15)">15</li> <li role="presentation" ng-click="changeLimit(20)">20</li> </ul> </li> <li class="sel-btn dropdown-toggle center"> <span>{{currentPage}}</span> <span>/</span> <span>{{totalPages}}</span> </li> <li class="center"><a class="fast-back" ng-click="play(\'first\')"></a></li> <li class="center"><a class="back" ng-click="play(\'above\')"></a></li> <li class="center"><a class="forward" ng-click="play(\'next\')"></a></li> <li class="center"><a class="fast-forward" ng-click="play(\'end\')"></a></li> <span class="jump-to">跳转至</span> <input class="jump-to-num" type="text" oncontextmenu="event.returnValue=false" ng-model="currentPageNow" ng-class="{\'disabled\':totalPages==1}" ng-disabled="totalPages===1" ng-keydown="keyDownFn($event);"> <button ng-click="go(currentPageNow)" ng-disabled="currentPage == 0" type="button" class="btn btn-default btn-xs">确定</button> </ul> </div> </nav>'),a.put("views/apply/admin.html",'<!--查询条件--> <div class="home-page-nav" ng-init="init();"> <div><span>用户名：</span><input class="form-control" type="text" ng-model="queryParams.username" input-max-length="255" data-content="长度不能超过255"></div> <div><span>状态：</span> <select class="form-control" ng-model="queryParams.applyStatus"> <option value="">全部</option> <option value="1">正在审核中</option> <option value="2">已通过</option> <option value="3">未通过</option> </select> </div> <div> <button type="button" class="btn btn-primary btn-sm" ng-click="query(q)"> <i class="btn-icon icon-search"></i>查询 </button> </div> </div> <!--表格数据--> <div class="my-table"> <table class="table table-bordered my-table" id="project-table"> <thead> <!--  <th>用户名</th>\n        <th>姓名</th>\n        <th>状态</th>\n        <th style="width: 20%;">操作</th> --> <th>用户名</th> <th>手机号码</th> <th>姓名</th> <th>状态</th> <th>处理人</th> <th style="width: 20%">操作</th> </thead> <tbody> <tr bindonce ng-repeat="data in queryList"> <!--  <td>{{data.userId}}</td>\n          <td>{{data.realName}}</td>\n          <td>{{data.applyStatusStr | applyStatusFilter}}</td>\n          <td>\n              <a title="查看" ng-click="look(data);" ><i class="home-icon home-icon-enter"></i><span>查看</span></a>\n              <a title="通过" ng-click="passApply(data, 2);" ng-if="data.applyStatus !== 1"></i><span>通过</span></a>\n              <a title="不通过" ng-click="passApply(data, 3);" ng-if="data.applyStatus !== 1"></i><span>不通过</span></a>\n          </td> --> <td>{{data.username}}</td> <td>{{data.phoneNumber}}</td> <td>{{data.realName}}</td> <td>{{data.applyStatusStr}}</td> <td>{{data.handlePersonName}}</td> <td> <a title="查看" ng-click="look(data);"><i class="home-icon home-icon-enter"></i><span>查看</span></a> <a title="通过" ng-click="passApply(data, 2);" ng-if="data.applyStatus === 1"><span>通过</span></a> <a title="不通过" ng-click="passApply(data, 3);" ng-if="data.applyStatus === 1"><span>不通过</span></a> </td> </tr> </tbody> </table> </div> <page limit="10" current-page="1" params="queryParams" total="page.total" data="queryList" query="query()"></page> <com-tips tip-type="tipType" tip-content="tipContent"></com-tips> <!-- 查看工单弹出框 --> <div class="modal fade bs-example-modal-lg" id="modal" tabindex="-1" role="dialog" aria-labelledby="appleModal"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="appleModal">工单查看</h4> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">账号信息</h3> </div> <div class="panel-body form-group-sm"> <div class="col-md-12 form-group"> <label for="input1" class="col-sm-2 control-label">账户名：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="input1" ng-model="model.accountName" readonly> </div> </div><!-- /第一排 --> <div class="col-md-12 form-group"> <label for="input2" class="col-sm-2 control-label">所属组名：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input2" ng-model="model.groupName" readonly> </div> <label for="input3" class="col-sm-2 control-label">主路径：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input3" ng-model="model.mainPath" readonly> </div> </div><!-- /第二排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label">账号属性：</label> <div class="col-sm-10"> <label class="radio-inline"> <input type="radio" disabled name="inlineRadioOptions" value="01" ng-model="model.accountProperties">高级用户账号 </label> <label class="radio-inline"> <input type="radio" disabled name="inlineRadioOptions" value="02" ng-model="model.accountProperties">程序内置账号 </label> <label class="radio-inline"> <input type="radio" disabled name="inlineRadioOptions" value="03" ng-model="model.accountProperties">用户具名账号 </label> </div> </div><!-- /第三排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label">账号使用期限：</label> <div class="col-sm-4"> <input type="text" class="form-control" value="{{model.startTimeStr|date: \'yyyy-MM-dd\'}}" id="applyStart" readonly> </div> <label class="col-sm-1 control-label" style="width: 20px;padding-left: 5px">至</label> <div class="col-sm-4"> <input type="text" class="form-control" value="{{model.endTimeStr|date: \'yyyy-MM-dd\'}}" id="applyEnd" readonly> </div> </div> <div class="col-md-12 form-group"> <label class="col-sm-4 control-label" for="input5">账号所在的硬件设备/软件平台：</label> <div class="col-sm-8"> <input type="text" id="input5" class="form-control" ng-model="model.platform" readonly> </div> </div><!-- /第四排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label" for="input6">所属系统：</label> <div class="col-sm-10"> <input type="text" id="input6" class="form-control" ng-model="model.subSystem" readonly> </div> </div><!-- /第五排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label" for="input7">可访问哪些资源及程序(读/写/可执行)：</label> <div class="col-sm-10"> <textarea class="form-control" id="input7" rows="3" ng-model="model.powerDetail" readonly></textarea> </div> </div><!-- /第六排 --> </div> </div><!-- /第一组 --> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">账号人员使用信息</h3> </div> <div class="panel-body form-group-sm"> <div class="col-md-12 form-group"> <label for="input8" class="col-sm-2 control-label">姓名：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input8" ng-model="model.realName" readonly> </div> <label for="input9" class="col-sm-2 control-label">手机号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input9" ng-model="model.phoneNumber" readonly> </div> </div><!-- /第一排 --> <div class="col-md-12 form-group"> <label for="input10" class="col-sm-2 control-label">工作单位：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input10" ng-model="model.workCom" readonly> </div> <label for="input11" class="col-sm-2 control-label">工作职责：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input11" ng-model="model.workDuty" readonly> </div> </div><!-- /第二排 --> <div class="col-md-12 form-group"> <label for="input12" class="col-sm-2 control-label">4A主账号：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="input12" ng-model="model.fourA" readonly> </div> </div><!-- /第三排 --> <div class="col-md-12 form-group"> <label for="input13" class="col-sm-2 control-label">电子邮件：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="input13" ng-model="model.email" readonly> </div> </div><!-- /第四排 --> <div class="col-md-12 form-group"> <label for="input14" class="col-sm-2 control-label">申请开户原因：</label> <div class="col-sm-10"> <textarea class="form-control" id="input14" rows="2" ng-model="model.applyReason" readonly></textarea> </div> </div><!-- /第五排 --> </div> </div><!-- /第二组 --> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <!-- 确认提示框 --> <div class="modal fade" id="confirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel" ng-if="!model.edit">审批意见</h4> </div> <div class="modal-body"> <textarea class="form-control" rows="3" ng-model="confirmModal.remark"></textarea> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> <button type="button" class="btn btn-primary" ng-click="passApply()">确定</button> </div> </div> </div> </div> <!-- /.modal -->'),a.put("views/apply/basic.html",'<!--查询条件--> <div class="home-page-nav"> <div><span>状态：</span> <select class="form-control" ng-model="queryParams.applyStatus"> <option value="">全部</option> <option value="1">正在审核中</option> <option value="2">已通过</option> <option value="3">未通过</option> </select> </div> <div> <button type="button" class="btn btn-primary btn-sm" ng-click="query(1)"> <i class="btn-icon icon-search"></i>查询 </button> <button type="button" class="btn btn-success btn-sm" ng-click="showApply()"> <i class="btn-icon icon-add"></i>申请 </button> </div> </div> <!--表格数据--> <div class="my-table"> <table class="table table-bordered my-table" id="project-table"> <thead> <th>用户名</th> <th>手机号码</th> <th>姓名</th> <th>状态</th> <th>处理人</th> <th style="width: 20%">操作</th> </thead> <tbody> <tr ng-repeat="data in queryList"> <td>{{data.username}}</td> <td>{{data.phoneNumber}}</td> <td>{{data.realName}}</td> <td>{{data.applyStatusStr}}</td> <td>{{data.handlePersonName}}</td> <td> <a title="查看" ng-click="look(data.id)"><i class="home-icon home-icon-enter"></i><span>查看</span></a> </td> </tr> </tbody> </table> </div> <page limit="10" current-page="1" params="queryParams" total="totalCount" data="queryList" query="query()"></page> <!--申请表model--> <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="appleModal" aria-labelledby="appleModal"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">账号开户申请表</h4> </div> <div class="modal-body"> <form class="form-horizontal" novalidate> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">账号信息</h3> </div> <div class="panel-body form-group-sm"> <div class="col-md-12 form-group"> <label for="input1" class="col-sm-2 control-label">账户名：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="input1" ng-model="applyParams.accountName" placeholder="请填写账号名"> <span class="help-block"> 批注：如果是公司内部人员，如李明，则用户名为liming(即邮箱用户名)；如果是外援写 wyXXX；如果是厂商，写明公司，如zrXXX。 </span> </div> </div><!-- /第一排 --> <div class="col-md-12 form-group"> <label for="input2" class="col-sm-2 control-label">所属组名：</label> <div class="col-sm-4"> <!--<select class="form-control" id="input2" ng-model="applyParams.groupId" >\n                    <option value="{{groupOne.groupId}}" ng-repeat="groupOne in groupList">{{groupOne.groupName}}</option>\n                  </select>--> <input type="text" class="form-control" id="input2" readonly ng-model="applyParams.groupId" placeholder="请填写所属组名"> </div> <label for="input3" class="col-sm-2 control-label">主路径：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input3" ng-model="applyParams.mainPath" placeholder="请填写主路径"> </div> </div><!-- /第二排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label">账号属性：</label> <div class="col-sm-10"> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" ng-model="applyParams.accountProperties" value="01">高级用户账号 </label> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" ng-model="applyParams.accountProperties" value="02">程序内置账号 </label> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" ng-model="applyParams.accountProperties" value="03">用户具名账号 </label> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" ng-model="applyParams.accountProperties" value="04">其他 </label> </div> </div><!-- /第三排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label">账号使用期限：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="applyParams.startTimeStr" id="applyStart" placeholder="生效时间"> </div> <label class="col-sm-1 control-label" style="width: 20px;padding-left: 5px">至</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="applyParams.endTimeStr" id="applyEnd" placeholder="失效时间"> </div> </div><!-- /第四排 --> <div class="col-md-12 form-group"> <label class="col-sm-4 control-label" for="input5">账号所在的硬件设备/软件平台：</label> <div class="col-sm-8"> <input type="text" id="input5" ng-model="applyParams.platform" class="form-control"> </div> </div><!-- /第五排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label" for="input6">所属系统：</label> <div class="col-sm-10"> <input type="text" id="input6" ng-model="applyParams.subSystem" class="form-control"> </div> </div><!-- /第六排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label" for="input7">可访问哪些资源及程序(读/写/可执行)：</label> <div class="col-sm-10"> <textarea class="form-control" id="input7" ng-model="applyParams.powerDetail" rows="3"></textarea> <span class="help-block"> 批注：写清楚访问哪些库名的资源的读写，如：UPAY4_SVN 文档+代码的读写权限 </span> </div> </div><!-- /第七排 --> </div> </div><!-- /第一组 --> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">账号人员使用信息</h3> </div> <div class="panel-body form-group-sm"> <div class="col-md-12 form-group"> <label for="input8" class="col-sm-2 control-label">姓名：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input8" ng-model="applyParams.realName" placeholder="请填写姓名"> </div> <label for="input9" class="col-sm-2 control-label">手机号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input9" ng-model="applyParams.phoneNumber" placeholder="请填写手机号码"> </div> </div><!-- /第一排 --> <div class="col-md-12 form-group"> <label for="input10" class="col-sm-2 control-label">工作单位：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input10" ng-model="applyParams.workCom" placeholder="请填写工作单位"> </div> <label for="input11" class="col-sm-2 control-label">工作职责：</label> <div class="col-sm-4"> <input type="text" class="form-control" id="input11" ng-model="applyParams.workDuty" placeholder="请填写工作职责"> </div> </div><!-- /第二排 --> <div class="col-md-12 form-group"> <label for="input12" class="col-sm-2 control-label">4A主账号：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="input12" ng-model="applyParams.fourA" placeholder="请填写4A主账号"> </div> </div><!-- /第三排 --> <div class="col-md-12 form-group"> <label for="input13" class="col-sm-2 control-label">电子邮件：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="input13" ng-model="applyParams.email" placeholder="请填写电子邮件"> </div> </div><!-- /第四排 --> <div class="col-md-12 form-group"> <label for="input14" class="col-sm-2 control-label">申请开户原因：</label> <div class="col-sm-10"> <textarea class="form-control" id="input14" rows="2" ng-model="applyParams.applyReason"></textarea> <!--<span class="help-block">--> <!--<label for="input15" class="col-sm-2 control-label col-md-offset-1">签名：</label>--> <!--<div class="col-sm-3">--> <!--<input type="text" class="form-control" id="input15" readonly="readonly" placeholder="后台自动生成签名">--> <!--</div>--> <!--<label for="input16" class="col-sm-2 control-label">日期:</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input16" readonly="readonly" placeholder="后台自动生成日期？">--> <!--</div>--> <!--</span>--> </div> </div><!-- /第五排 --> </div> </div><!-- /第二组 --> <!--<div class="panel panel-default">--> <!--<div class="panel-heading">--> <!--<h3 class="panel-title">账号人员使用信息</h3>--> <!--</div>--> <!--<div class="panel-body form-group-sm">--> <!--<div class="col-md-12 form-group">--> <!--<label class="col-sm-3 control-label" for="input17">业务主管部门意见：</label>--> <!--<div class="col-sm-9">--> <!--<textarea class="form-control" id="input17" rows="2"></textarea>--> <!--<span class="help-block">--> <!--<label for="input18" class="col-sm-2 control-label">签名：</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input18" placeholder="部门经理签名">--> <!--</div>--> <!--<label for="input19" class="col-sm-2 control-label">日期:</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input19" placeholder="日期">--> <!--</div>--> <!--</span>--> <!--</div>--> <!--</div>&lt;!&ndash; /第一排 &ndash;&gt;--> <!--<div class="col-md-12 form-group">--> <!--<label class="col-sm-3 control-label" for="input20">账号审批人员意见：</label>--> <!--<div class="col-sm-9">--> <!--<textarea class="form-control" id="input20" rows="2"></textarea>--> <!--<span class="help-block">--> <!--<label for="input21" class="col-sm-2 control-label">签名：</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input21" placeholder="研发中心安全员:方有轩">--> <!--</div>--> <!--<label for="input22" class="col-sm-2 control-label">日期:</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input22" placeholder="日期">--> <!--</div>--> <!--</span>--> <!--</div>--> <!--</div>&lt;!&ndash; /第二排 &ndash;&gt;--> <!--<div class="col-md-12 form-group">--> <!--<label class="col-sm-3 control-label" for="input23">账号管理人员处理结果：</label>--> <!--<div class="col-sm-9">--> <!--<textarea class="form-control" id="input23" rows="2"></textarea>--> <!--<span class="help-block">--> <!--<label for="input24" class="col-sm-2 control-label">签名：</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input24" placeholder="账号管理员:李妍">--> <!--</div>--> <!--<label for="input25" class="col-sm-2 control-label">日期:</label>--> <!--<div class="col-sm-4">--> <!--<input type="text" class="form-control" id="input25" placeholder="日期">--> <!--</div>--> <!--</span>--> <!--</div>--> <!--</div>&lt;!&ndash; /第三排 &ndash;&gt;--> <!--</div>--> <!--</div>&lt;!&ndash; /第三组 &ndash;&gt;--> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button> <button type="button" class="btn btn-primary" ng-click="add()">申请</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <!-- 查看工单弹出框 --> <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="appleLook" aria-labelledby="appleLook"> <div class="modal-dialog modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">工单查看</h4> </div> <div class="modal-body"> <form class="form-horizontal"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">账号信息</h3> </div> <div class="panel-body form-group-sm"> <div class="col-md-12 form-group"> <label for="input1" class="col-sm-2 control-label">账户名：</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="model.accountName" readonly> </div> </div><!-- /第一排 --> <div class="col-md-12 form-group"> <label for="input2" class="col-sm-2 control-label">所属组名：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.groupName" readonly> </div> <label for="input3" class="col-sm-2 control-label">主路径：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.mainPath" readonly> </div> </div><!-- /第二排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label">账号属性：</label> <div class="col-sm-10"> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" value="01" ng-model="model.accountProperties">高级用户账号 </label> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" value="02" ng-model="model.accountProperties">程序内置账号 </label> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" value="03" ng-model="model.accountProperties">用户具名账号 </label> <label class="radio-inline"> <input type="radio" name="inlineRadioOptions" value="04" ng-model="model.accountProperties">其他 </label> </div> </div><!-- /第三排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label">账号使用期限：</label> <div class="col-sm-4"> <input type="text" class="form-control" value="{{model.startTimeStr|date: \'yyyy-MM-dd\'}}" readonly> </div> <label class="col-sm-1 control-label" style="width: 20px;padding-left: 5px">至</label> <div class="col-sm-4"> <input type="text" class="form-control" value="{{model.endTimeStr|date: \'yyyy-MM-dd\'}}" readonly> </div> </div><!-- /第四排 --> <div class="col-md-12 form-group"> <label class="col-sm-4 control-label" for="input5">账号所在的硬件设备/软件平台：</label> <div class="col-sm-8"> <input type="text" class="form-control" ng-model="model.platform" readonly> </div> </div><!-- /第五排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label" for="input6">所属系统：</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="model.subSystem"> </div> </div><!-- /第六排 --> <div class="col-md-12 form-group"> <label class="col-sm-2 control-label" for="input7">可访问哪些资源及程序(读/写/可执行)：</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" ng-model="model.powerDetail"></textarea> </div> </div><!-- /第七排 --> </div> </div><!-- /第一组 --> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">账号人员使用信息</h3> </div> <div class="panel-body form-group-sm"> <div class="col-md-12 form-group"> <label for="input8" class="col-sm-2 control-label">姓名：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.realName" readonly> </div> <label for="input9" class="col-sm-2 control-label">手机号码：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.phoneNumber" readonly> </div> </div><!-- /第一排 --> <div class="col-md-12 form-group"> <label for="input10" class="col-sm-2 control-label">工作单位：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.workCom" readonly> </div> <label for="input11" class="col-sm-2 control-label">工作职责：</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.workDuty" readonly> </div> </div><!-- /第二排 --> <div class="col-md-12 form-group"> <label for="input12" class="col-sm-2 control-label">4A主账号：</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="model.fourA" readonly> </div> </div><!-- /第三排 --> <div class="col-md-12 form-group"> <label for="input13" class="col-sm-2 control-label">电子邮件：</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="model.email" readonly> </div> </div><!-- /第四排 --> <div class="col-md-12 form-group"> <label for="input14" class="col-sm-2 control-label">申请开户原因：</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" ng-model="model.applyReason" readonly></textarea> </div> </div><!-- /第五排 --> </div> </div><!-- /第二组 --> </form> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="exportApply()">导出</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <com-tips tip-type="tipType" tip-content="tipContent"></com-tips>'),
a.put("views/groupMng/group_manage.html",'<!--查询条件--> <div class="home-page-nav"> <!-- <div><span>组名：</span><input class="form-control" type="text" ng-model="queryParams.groupName" input-max-length="255"></div>\n    <div><span>组长手机号：</span><input class="form-control" type="text" ng-model="queryParams.groupTeam" input-max-length="255"></div> --> <div> <button type="button" class="btn btn-primary btn-sm" ng-click="init()"> <i class="btn-icon icon-search"></i>查询 </button> <button type="button" class="btn btn-success btn-sm" data-toggle="modal" data-target="#addGroup"> <i class="btn-icon icon-add"></i>添加 </button> </div> </div> <!--表格数据--> <div class="my-table"> <table class="table table-bordered my-table" id="project-table"> <thead> <th>组名</th> <th>组长手机号</th> <th style="width: 20%">操作</th> </thead> <tbody> <tr bindonce ng-repeat="data in queryList"> <td>{{data.groupName}}</td> <td>{{data.groupPhone}}</td> <td> <a data-toggle="modal" data-target="#updateGroup" ng-click="modify(data)" title="修改"><i class="home-icon home-icon-edit" class="btn btn-info"></i><span>修改</span></a> </td> </tr> </tbody> </table> </div> <!-- <page limit="10" current-page="1" params="queryParams" total="totalCount" data="queryList" query="query()"></page> --> <com-tips tip-type="tipType" tip-content="tipContent"></com-tips><!--提示信息--> <!--新增--> <div class="modal fade" id="addGroup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title">新增</h4> </div> <div class="modal-body"> <form id="myForm" class="form-horizontal" name="groupAdd"> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label" style="width: 18%">组名:</label> <div class="col-sm-5"> <input class="form-control" type="text" id="groupName" name="groupName" ng-maxlength="20" ng-model="addParams.groupName" placeholder="组名(非空必填)" required> </div> <span class="red-prompt">*</span> </div> <div class="prompt-info" ng-show="groupAdd.groupName.$error.maxlength"> 组名输入不能超过20个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label" style="width: 18%">组长手机号:</label> <div class="col-sm-5"> <input class="form-control" type="text" id="groupPhone" name="groupPhone" ng-model="addParams.groupPhone" ng-pattern="/^1[34578]\\d{9}$/" placeholder="手机号(非空必填)" required> </div> <span class="red-prompt">*</span> </div> <div class="prompt-info" ng-show="groupAdd.groupPhone.$error.pattern"> 请输入正确的手机号码格式! </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary modify-pw-btn-posi" role="button" ng-click="addGroup()" data-trigger="focus" ng-disabled="groupAdd.$invalid">保存</button> <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="cancel();">取消</button> </div> </div> </div> </div> <!--修改--> <div class="modal fade" id="updateGroup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title">修改</h4> </div> <div class="modal-body"> <form id="myForm" class="form-horizontal" name="gruoupModify"> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label" style="width: 18%">组名:</label> <div class="col-sm-5"> <input class="form-control" type="text" id="groupName" name="groupName" ng-maxlength="20" ng-model="modifyData.groupName" placeholder="组名(非空必填)" required> </div> <span class="red-prompt">*</span> </div> <div class="prompt-info" ng-show="gruoupModify.groupName.$error.maxlength"> 组名输入不能超过20个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label" style="width: 18%">组长手机号:</label> <div class="col-sm-5"> <input class="form-control" type="text" id="groupPhone" name="groupPhone" ng-model="modifyData.groupPhone" ng-pattern="/^1[34578]\\d{9}$/" placeholder="手机号(非空必填)" required> </div> <span class="red-prompt">*</span> </div> <div class="prompt-info" ng-show="gruoupModify.groupPhone.$error.pattern"> 请输入正确的手机号码格式! </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary modify-pw-btn-posi" role="button" ng-click="updateGroup()" data-trigger="focus" ng-disabled="gruoupModify.$invalid">保存</button> <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="cancel();">取消</button> </div> </div> </div> </div>'),a.put("views/login/login.html",'<div id="logo"> <div class="logo-image"><img src="images/log_in_logo_01.png"></div> <h1>研发中心</h1> <h1>SVN＆Git账号申请</h1> <div class="login-form"> <form name="myForm"> <div id="login"> <ul class="nav nav-tabs" style="text-align:center" role="tablist"> <li role="presentation" class="active" style="border-top-left-radius:12px;width: 258px" ng-click="login.loginType = 0"> <a style="border-top-left-radius:10px;margin: 0" aria-controls="home" role="tab" data-toggle="tab"> <span class="glyphicon glyphicon-home" aria-hidden="true" ng-show="login.loginType === 0"></span>普通登录</a> </li> <li role="presentation" style="border-top-right-radius:12px;width: 258px" ng-click="login.loginType = 1"> <a style="border-top-right-radius:10px;margin: 0" aria-controls="profile" role="tab" data-toggle="tab"> <span class="glyphicon glyphicon-home" aria-hidden="true" ng-show="login.loginType === 1"></span>手机动态登录</a> </li> </ul> <div ng-show="login.loginType === 0"> <div id="user" class="user"> <span class="iuser"></span> <input type="text" placeholder="账号" ng-model="login.user.username" maxlength="15"> </div> <div id="password" class="password"> <span class="ipassword"></span> <input type="password" placeholder="密码" ng-model="login.user.password" maxlength="15"> </div> </div> <div ng-show="login.loginType === 1"> <div id="user" class="user"> <span class="iuser"></span> <input type="text" placeholder="手机号" ng-model="login.phoneUser.phone" maxlength="15"> </div> <div id="password" class="password"> <span class="ipassword"></span> <input type="password" placeholder="动态密码" ng-model="login.phoneUser.phoneCode" maxlength="15"> </div> </div> <div> <div class="verification-code" ng-show="login.loginType === 0"> 验证码: &nbsp;&nbsp;&nbsp; <input type="text" ng-model="login.user.imageValue" maxlength="4"> <img id="getCode" src="" alt="验证码"> <a ng-click="login.getImgCode();">刷新</a> </div> <div class="landing-btn" ng-show="login.loginType === 0"> <button class="btn btn-prim ary btn-lg btn-block" style="width: 48%;display: inline-block;background-color: #5bc0de" ng-disabled="login.isClick.click" ng-click="login.loginBtn()">登录 </button> <button class="btn btn-prim ary btn-lg" style="width: 48%;display: inline-block" ng-disabled="login.isClick.click" data-toggle="modal" data-target="#registModal">注册 </button> </div> <div class="landing-btn" ng-show="login.loginType === 1"> <button class="btn btn-prim ary btn-lg" style="width: 48%;display: inline-block;background-color: #5bc0de" ng-disabled="login.isClick.click" ng-click="login.getPhoneCode()">获取验证码 </button> <button class="btn btn-prim ary btn-lg" style="width: 48%;display: inline-block" ng-disabled="login.isClick.click" ng-click="login.loginBtn()">登录 </button> </div> </div> </div> </form> </div> </div> <!-- 提示弹出框 --> <div class="modal fade" id="messageId" tabindex="-1" role="dialog"> <div class="modal-dialog" role="document" style="width:250px;font-size:1.2em"> <div class="modal-content"> <div class="modal-header" style="border:none"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel">提示</h4> </div> <div class="modal-body lh-modal">{{login.modalMessage}}</div> <div class="modal-footer lh-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" style="color:#1EAAF1">确认</button> </div> </div> </div> </div> <!-- 注册用户弹出框 --> <div class="modal fade" id="registModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static"> <div class="modal-dialog" style="width:620px"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="cancel()" aria-hidden="true">&times;</button> <h4 class="modal-title" id="myModalLabel">用户注册</h4> </div> <div class="modal-body"> <form class="form-horizontal" name="updateParams" role="form"> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">用户手机号：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="phoneNumber" ng-model="registParameter.phoneNumber" ng-pattern="/^1[34578]\\d{9}$/" maxlength="15" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.phoneNumber.$error.pattern"> 请输入正确的手机号码格式! </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">用户账号：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="username" ng-model="registParameter.username" ng-pattern="/^[0-9a-zA-Z]{4,23}$/" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.username.$error.pattern"> 用户账号必须是4-23位的字符或字母 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">用户真实姓名：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="realName" ng-model="registParameter.realName" ng-maxlength="255" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.realName.$error.maxlength"> 用户真实姓名不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">密码：</label> <div class="col-sm-5"> <input type="password" class="form-control" id="inputEmail3" name="password" ng-model="registParameter.password" ng-pattern="/^(?!([a-zA-Z]+|[a-z\\d]+|[a-z~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+|[A-Z\\d]+|[A-Z~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+|[\\d~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+)$)[a-zA-Z\\d~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]{8,15}$/" ng-maxlength="25" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.password.$error.pattern"> 密码必须同时包含字母,数字和特殊字符的8-15位的组合 </div> <div class="prompt-info" ng-show="updateParams.password.$error.maxlength"> 密码不能超过25个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">邮箱：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="email" ng-model="registParameter.email" ng-pattern="/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/" ng-maxlength="50" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.email.$dirty && (updateParams.email.$error.pattern)"> 邮箱是必须是合法的(不得超过50位)！ </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">4A主账号：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="fourA" ng-model="registParameter.fourA" ng-maxlength="255"> </div> </div> <div class="prompt-info" ng-show="updateParams.fourA.$error.maxlength"> 4A主账号不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">工作职责：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="workDuty" ng-model="registParameter.workDuty" ng-maxlength="255"> </div> </div> <div class="prompt-info" ng-show="updateParams.workDuty.$error.maxlength"> 工作职责不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">工作单位：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="workCom" ng-model="registParameter.workCom" required ng-maxlength="255"> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.workCom.$error.maxlength"> 工作单位不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">所属组：</label> <div class="col-sm-5"> <select class="form-control" name="groupId" ng-model="registParameter.groupId" required> <option value="{{groupOne.groupId}}" ng-repeat="groupOne in login.groupList">{{groupOne.groupName}}</option> </select> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> </form> </div> <div class="modal-footer"> <button type="submit" class="btn btn-primary btn-sm" ng-click="login.registUser()" ng-disabled="updateParams.$invalid">保存</button> <button type="button" class="btn btn-success btn-sm add-mar-left" ng-click="cancel()">取消</button> </div> </div> </div> </div> <!--修改密码静态框--> <!--<div class="modal fade" id="myPassword" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">--> <!--<div class="modal-dialog" style="width: 620px">--> <!--<div class="modal-content">--> <!--<div class="modal-header">--> <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>--> <!--<h4 class="modal-title">修改密码</h4>--> <!--</div>--> <!--<div class="modal-body">--> <!--<form id="myForm" class="form-horizontal">--> <!--<div class="form-group">--> <!--<div class="col-sm-2"></div>--> <!--<label class="col-sm-2 control-label">原密码:</label>--> <!--<div class="col-sm-5">--> <!--<input class="form-control" type="password" id="oldPassword" name="oldPassword" maxlength="15"--> <!--ng-model="modifyUser.oldPassword" placeholder="密码长度限制为6-15位">--> <!--</div>--> <!--</div>--> <!--<div class="form-group">--> <!--<div class="col-sm-2"></div>--> <!--<label class="col-sm-2 control-label">新密码:</label>--> <!--<div class="col-sm-5">--> <!--<input class="form-control" type="password" id="newPassword" name="newPassword"--> <!--ng-model="modifyUser.newPassword" maxlength="15" placeholder="密码长度限制为6-15位">--> <!--</div>--> <!--</div>--> <!--<div class="form-group">--> <!--<div class="col-sm-2"></div>--> <!--<label class="col-sm-2 control-label">确认密码:</label>--> <!--<div class="col-sm-5">--> <!--<input class="form-control" type="password" id="confirmPassword" name="confirmPassword"--> <!--ng-model="modifyUser.confirmPassword" maxlength="15" placeholder="密码长度限制为6-15位">--> <!--</div>--> <!--</div>--> <!--</form>--> <!--</div>--> <!--</div>&lt;!&ndash; /.modal-content &ndash;&gt;--> <!--</div>&lt;!&ndash; /.modal-dialog &ndash;&gt;--> <!--</div>&lt;!&ndash; /.modal &ndash;&gt;-->'),a.put("views/main/main.html",'<div class="percent"> <!-- 主导航顶部 --> <header class="headerself clearfix"> <div id="header-bck"></div> <img class="header-img" src="images/logo_01.png" alt="中国移动"> <div class="pro-name">|&nbsp;&nbsp;&nbsp;工单申请表</div> <div class="header-sign-in clearfix"> <ul> <li><a><i class="user-name"></i> <span>{{USERINFO.realName}}</span></a></li> <li class="ver-line" ng-if="postponeFun();"><span>|</span></li> <li><a class="header-btn-sign" ng-click="postpone();" ng-if="postponeFun();" title="你在集成开发管理平台中的账号，即将到期！">申请延期</a></li> <li class="ver-line"><span>|</span></li> <li><a class="header-btn-sign" data-toggle="modal" data-target="#myPassword">修改密码</a></li> <li class="ver-line"><span>|</span></li> <li><a class="header-btn-sign" ng-click="logout();">退出</a></li> </ul> </div> </header> <!-- 侧栏 --> <nav class="side-bar-nav"> <ul> <li ng-class="{true:\'active\',false:\'\'}[isActive.span1]" ng-click="setNavClass(\'span1\')" ng-if="powerList === \'orderPass\'"> <a ui-sref="applyAccount.admin"> <i id="user" class="side-icon side-icon-user-active"></i> <span ng-class="{true:\'active\',false:\'\'}[isActive.span1]">工单管理</span> </a> </li> <li ng-class="{true:\'active\',false:\'\'}[isActive.span2]" ng-click="setNavClass(\'span2\')" ng-if="isAdmin === false"> <a ui-sref="applyAccount.basicUser"> <i id="character" class="side-icon side-icon-log-active"></i> <span ng-class="{true:\'active\',false:\'\'}[isActive.span2]">普通用户</span> </a> </li> <li ng-class="{true:\'active\',false:\'\'}[isActive.span3]" ng-click="setNavClass(\'span3\')" ng-if="isAdmin"> <a ui-sref="applyAccount.groupManage"> <i id="group" class="side-icon side-icon-project-active"></i> <span ng-class="{true:\'active\',false:\'\'}[isActive.span3]">group管理</span> </a> </li> <li ng-class="{true:\'active\',false:\'\'}[isActive.span4]" ng-click="setNavClass(\'span4\')" ng-if="isAdmin"> <a ui-sref="applyAccount.userManage"> <i id="group" class="side-icon side-icon-project-active"></i> <span ng-class="{true:\'active\',false:\'\'}[isActive.span4]">用户管理</span> </a> </li> <li ng-class="{true:\'active\',false:\'\'}[isActive.span5]" ng-click="setNavClass(\'span5\')" ng-if="isAdmin"> <a ui-sref="applyAccount.ruleManage"> <i id="group" class="side-icon side-icon-project-active"></i> <span ng-class="{true:\'active\',false:\'\'}[isActive.span5]">角色管理</span> </a> </li> </ul> </nav> <com-tips tip-type="tipType" tip-content="tipContent"></com-tips> <!-- 内容主体 --> <div ui-view class="clearfix iteration-1-main"></div> </div> <!--\n	作者：offline\n	时间：2017-06-19\n	描述：修改密码模态框\n--> <div class="modal fade" id="myPassword" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title">修改密码</h4> </div> <div class="modal-body"> <form id="myForm" name="myForm" class="form-horizontal"> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label">原密码:</label> <div class="col-sm-5"> <input class="form-control" type="password" ng-pattern="/^(?!([a-zA-Z]+|[a-z\\d]+|[a-z~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+|[A-Z\\d]+|[A-Z~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+|[\\d~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+)$)[a-zA-Z\\d~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]{8,15}$/" id="oldPassword" name="oldPassword" minlength="8" maxlength="15" ng-model="params.oldPassword" placeholder="密码长度限制为8-15位" required> <div class="psd_box" ng-show="myForm.oldPassword.$dirty"> <span ng-show="myForm.oldPassword.$dirty"> <span ng-show="myForm.oldPassword.$error.pattern">*密码必须同时包含字母,数字和特殊字符的8-15位的组合</span> <span ng-show="myForm.oldPassword.$error.required">*密码不能为空</span> </span> </div> </div> </div> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label">新密码:</label> <div class="col-sm-5"> <input class="form-control" type="password" ng-pattern="/^(?!([a-zA-Z]+|[a-z\\d]+|[a-z~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+|[A-Z\\d]+|[A-Z~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+|[\\d~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]+)$)[a-zA-Z\\d~`@#\\$%\\^&\\*\\(\\)_\\-\\+=\\{\\[\\}\\]\\|\\\\:;<,>\\.\\?\\/\\!]{8,15}$/" id="newPassword" name="newPassword" ng-model="params.newPassword" minlength="8" maxlength="15" placeholder="密码长度限制为8-15位" required> <div class="psd_box" ng-show="myForm.newPassword.$dirty"> <span ng-show="myForm.newPassword.$dirty"> <span ng-show="myForm.newPassword.$error.pattern">*密码必须同时包含字母,数字和特殊字符的8-15位的组合</span> <span ng-show="myForm.newPassword.$error.required">*密码不能为空</span> </span> </div> </div> </div> <div class="form-group"> <div class="col-sm-2"></div> <label class="col-sm-2 control-label">确认密码:</label> <div class="col-sm-5"> <input class="form-control" type="password" id="confirmPassword" name="confirmPassword" ng-model="params.confirmPassword" minlength="8" maxlength="15" placeholder="密码长度限制为8-15位" required> <div class="psd_box"> <span ng-show="myForm.newPassword.$dirty&&myForm.confirmPassword.$dirty"> <span ng-show="params.confirmPassword!=params.newPassword">两次输入不一致</span> </span> </div> </div> </div> </form> </div> <div class="modal-footer"> <button id="password" ng-disabled="myForm.$invalid || newpassword!=confirmPassword" tabindex="0" class="btn btn-primary modify-pw-btn-posi" role="button" title="提示" data-placement="left" data-content="" ng-click="modifyPassword()" data-trigger="focus">保存</button> <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="cancel();">取消</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal -->'),a.put("views/roleMng/role_manage.html",'<style>.modalSpan {\n        margin: 0 20px;\n    }\n    .modalSpan input {\n        margin-right: 10px;\n    }</style> <div ng-init="init();"> <div class="my-table"> <table class="table table-bordered my-table"> <thead> <th>角色名</th> <th>角色权限操作</th> </thead> <tbody> <tr bindonce ng-repeat="data in roleList"> <td>{{data.roleName}}</td> <td> <button type="button" class="btn btn-success" style="margin:0 30px" ng-click="powerQuery(data)">权限查询</button> <button type="button" class="btn btn-info" style="margin:0 30px" ng-click="editPower(data, \'edit\')">权限编辑</button> </td> </tr> </tbody> </table> </div> <com-tips tip-type="tipType" tip-content="tipContent"></com-tips> <!-- <page limit="10" current-page="1" params="queryParams" total="totalCount" data="queryList" query="query()"></page> --> <!-- 权限弹出框 --> <!-- Modal --> <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="myModalLabel" ng-if="!model.edit">权限查询</h4> <h4 class="modal-title" id="myModalLabel" ng-if="model.edit">权限编辑</h4> </div> <div class="modal-body"> <table class="table table-bordered"> <thead> <th>功能名称</th> <th>权限</th> </thead> <tbody> <tr> <td style="text-align: center;width: 150px"><span class="modalSpan">项目管理</span></td> <td> <span class="modalSpan" style="float: left" bindonce ng-repeat="data in model.powers"> <input type="checkbox" name="modelEdit" value="{{data.value}}" ng-if="model.edit" ng-checked="model.rolePowers.indexOf(data.value) !== -1">{{data.power}} </span> <!--  <span class="modalSpan"><input type="checkbox" name="modelEdit" ng-if="model.edit">删除</span>\n                            <span class="modalSpan"><input type="checkbox" name="modelEdit" ng-if="model.edit">修改</span> --> </td> </tr> </tbody> </table> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button> <button type="button" class="btn btn-primary" ng-if="model.edit" ng-click="saveEdit();">保存</button> </div> </div> </div> </div> </div><!-- /.modal -->'),a.put("views/userManage/userManage.html",'<div class="home-page" ng-init="initPage()"> <!-- <div class="home-page-nav">\n     <div><span>用户姓名：</span><input class="form-control" type="text" ng-model="queryParams.name" input-max-length="255"></div>\n      <div><span>用户手机号：</span><input class="form-control" type="text" ng-model="queryParams.phoneNumber" input-max-length="255"></div>\n      <div><span>用户角色：</span>\n             <div class="col-sm-3">\n                <select class="form-control"  ng-model="queryParams.roleId" ng-options="city.roleId as city.roleName for city in reviewUser"></select>\n              </div>\n      </div>\n      <div>\n        <button type="button" class="btn btn-primary btn-sm" ng-click="query()">\n          <i class="btn-icon icon-search"></i>查询\n        </button>\n      </div>\n	</div> --> <!--表格数据--> <div class="my-table"> <table class="table table-bordered my-table" id="user-table"> <thead> <th>用户姓名 </th> <th>用户手机号 </th> <th>申请时间 </th> <th>到期时间 </th> <th>用户角色 </th> <th>操作</th> </thead> <tbody> <tr ng-repeat="data in queryList"> <td>{{data.realName}}</td> <td>{{data.phoneNumber}}</td> <td>{{data.registerTime | date: "yyyy-MM-dd"}}</td> <td>{{data.expireTime | date: "yyyy-MM-dd"}}</td> <td>{{data.roleName}}</td> <td> <button type="button" class="btn btn-default btn-sm" data-toggle="modal" ng-click="modifyUser(data)">修改</button> <button type="button" class="btn btn-default btn-sm" data-toggle="modal" ng-click="deleteModal(data)">删除 </button> <button type="button" class="btn btn-default btn-sm" data-toggle="modal" ng-click="modifyRole(data)">修改角色 </button> </td> </tr> </tbody> </table> </div> <page limit="10" current-page="1" params="queryParams" total="totalCount" data="queryList" query="query()"></page> </div> <!-- 修改用户 --> <div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static"> <div class="modal-dialog" style="width:620px"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title" id="myModalLabel">修改用户</h4> </div> <div class="modal-body"> <form class="form-horizontal" name="updateParams" role="form"> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">用户手机号：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="phoneNumber" ng-model="modifyData.phoneNumber" ng-pattern="/^1[34578]\\d{9}$/" maxlength="15" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.phoneNumber.$error.pattern"> 请输入正确的手机号码格式! </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">用户账号：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="username" ng-model="modifyData.username" ng-pattern="/^[0-9a-zA-Z]{4,23}$/" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.username.$error.pattern"> 用户账号必须是4-23位的字符或字母 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">用户真实姓名：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="realName" ng-model="modifyData.realName" ng-maxlength="255" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.realName.$error.maxlength"> 用户真实姓名不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">密码：</label> <div class="col-sm-5"> <input type="password" class="form-control" id="inputEmail3" name="password" ng-model="modifyData.password" ng-maxlength="25" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.password.$error.maxlength"> 密码不能超过25个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label">邮箱：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="email" ng-model="modifyData.email" ng-pattern="/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/" ng-maxlength="50" required> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.email.$dirty && (updateParams.email.$error.pattern)"> 邮箱是必须是合法的(不得超过50位)！ </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">4A主账号：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="fourA" ng-model="modifyData.fourA" ng-maxlength="255"> </div> </div> <div class="prompt-info" ng-show="updateParams.fourA.$error.maxlength"> 4A主账号不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">工作职责：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="workDuty" ng-model="modifyData.workDuty" ng-maxlength="255"> </div> </div> <div class="prompt-info" ng-show="updateParams.workDuty.$error.maxlength"> 工作职责不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">工作单位：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" name="workCom" ng-model="modifyData.workCom" required ng-maxlength="255"> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> <div class="prompt-info" ng-show="updateParams.workCom.$error.maxlength"> 工作单位不能超过255个字符 </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-3 control-label" style="padding-left:0">所属组：</label> <div class="col-sm-5"> <select class="form-control" name="groupId" ng-model="modifyData.groupId" required> <option value="{{groupOne.groupId}}" ng-repeat="groupOne in groupList">{{groupOne.groupName}}</option> </select> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> </form> </div> <div class="modal-footer"> <button type="submit" class="btn btn-primary btn-sm" ng-click="update()" ng-disabled="updateParams.$invalid">保存</button> <button type="button" class="btn btn-success btn-sm add-mar-left" data-dismiss="modal" ng-click="cancel()">取消</button> </div> </div> </div> </div> <!-- 删除提示框 --> <div class="modal fade" id="deleteUserModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"> <div class="modal-dialog" role="document" style="width:250px;font-size:1.2em"> <div class="modal-content"> <div class="modal-header" style="border:none"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">提示</h4> </div> <div class="modal-body lh-modal"> 是否确认删除用户？ </div> <div class="modal-footer lh-footer"> <button id="del" type="button" class="btn btn-primary" ng-click="deleteUser()" data-dismiss="modal">删除</button> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button> </div> </div> </div> </div> <!-- 用户角色修改 --> <div class="modal fade" id="roleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static"> <div class="modal-dialog" style="width:620px"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title" id="myModalLabel">修改用户角色</h4> </div> <div class="modal-body"> <form class="form-horizontal" name="roleParams" role="form"> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-2 control-label" style="padding-left:0">用户姓名：</label> <div class="col-sm-5"> <input type="text" class="form-control" id="inputEmail3" ng-model="roleData.realName" ng-maxlength="255" required disabled> </div> </div> <div class="form-group"> <div class="col-sm-2"></div> <label for="inputEmail3" class="col-sm-2 control-label" style="padding-left:0">用户角色：</label> <div class="col-sm-5"> <!-- <select class="form-control col-sm-12"  ng-model="roleData.roleId" ng-options="city.roleId as city.roleName for city in reviewUser"></select> --> <com-multiple give-array="reviewUser" show-name="roleName" send-id="roleData.roleIds"></com-multiple> <span class="form-control-feedback red-prompt" style="right: -16px">*</span> </div> </div> </form> </div> <div class="modal-footer"> <button type="submit" class="btn btn-primary btn-sm" ng-click="updateRole()" ng-disabled="roleParams.$invalid">保存</button> <button type="button" class="btn btn-success btn-sm add-mar-left" data-dismiss="modal" ng-click="cancel()">取消</button> </div> </div> </div> </div> <!-- 勾选提示框 --> <div class="modal fade" id="cheeckModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"> <div class="modal-dialog" role="document" style="width:250px;font-size:1.2em"> <div class="modal-content"> <div class="modal-header" style="border:none"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">提示</h4> </div> <div class="modal-body lh-modal"> 未勾选用户信息！ </div> <div class="modal-footer lh-footer"> <button type="button" class="btn btn-primary" data-dismiss="modal">确定</button> </div> </div> </div> </div> <com-tips tip-type="tipType" tip-content="tipContent"></com-tips>');
}]);